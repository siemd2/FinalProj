@page "/schedulingcustomer"
@using FinalProj.Data.Models
@using FinalProj.Data
@using FinalProj.Data.Controllers
@inject DataAccessLayer DAL
@inject WorkBooking wb


<h3>Appointment Booking System</h3>
<br />
<br />

<select @bind="CustomerId" class="form-select" aria-label="Default select example">
	<option selected disabled value="">Choose Customer ID:</option>
	@foreach (var customer in customers)
	{
		<option value="@customer.UserId">@customer.UserId - @customer.UserName</option>
	}
</select>
<br />
<select @bind="StaffId" class="form-select" aria-label="Default select example">
	@foreach (var staff in staffMembers)
	{
		<option value="@staff.UserId">@staff.UserId - @staff.UserName</option>
	}
</select>
<br />
<select @bind="SelectedService" class="form-select" aria-label="Default select example">
	@foreach (var service in services)
	{
		<option value="@service.Id">@service.Id - @service.Name</option>
	}
</select>
<br />
<div class="input-group">
	<span class="input-group-text">Date:</span>
	<input type="text" aria-label="First name" class="form-control">
</div>
<br />
<div class="input-group">
	<span class="input-group-text">Time:</span>
	<input type="text" aria-label="First name" class="form-control">
</div>
<br />
<button type="button" class="btn btn-outline-success">Book Appointment</button>
<br />

@code {
	// set initial value to  null using ?
	int? CustomerId { get; set; }
	int? StaffId { get; set; }
	int? SelectedService { get; set; }

	List<Customer> customers = new List<Customer>();
	List<Staff> staffMembers = new List<Staff>();
	List<Service> services = new List<Service>();

	DataAccessLayer dataAccessLayer = new DataAccessLayer();

	protected override void OnInitialized()
	{
		customers = dataAccessLayer.GetAllCustomers();
		staffMembers = dataAccessLayer.GetAllStaff();
		services = dataAccessLayer.lServices();
	}

    
}
